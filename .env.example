# ============================================================================
# GoalDiggers Platform - Production Environment Configuration Template
# ============================================================================
# Copy this file to .env and configure with your actual values:
#   cp .env.example .env
#
# For production deployment, use .env.production:
#   cp .env.example .env.production
# ============================================================================

# ============================================
# ENVIRONMENT CONFIGURATION
# ============================================
# Environment mode: production, development, staging
ENVIRONMENT=production
# Debug mode (should be false in production)
DEBUG_MODE=false
# Use sample data instead of real data (should be false in production)
USE_SAMPLE_DATA=false

# ============================================
# DATABASE CONFIGURATION
# ============================================
# Primary database (PostgreSQL for production)
# Format: postgresql://username:password@host:port/database_name
DATABASE_URL=postgresql://user:password@localhost:5432/goaldiggers_prod

# Alternatively, use discrete environment variables:
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=goaldiggers_prod
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here

# PostgreSQL connection options
POSTGRES_SSLMODE=prefer  # Options: disable, allow, prefer, require, verify-ca, verify-full
POSTGRES_APPLICATION_NAME=goaldiggers_dashboard

# Connection validation
POSTGRES_CONNECT_TIMEOUT=10  # In seconds

# Fallback to SQLite if PostgreSQL unavailable
DATABASE_SQLITE_FALLBACK=true
SQLITE_DATABASE_PATH=./data/football.db

# Database connection pool settings
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600

# ============================================
# API KEYS - REQUIRED
# ============================================
# Football-Data.org API Key (REQUIRED for match data)
# Get your free API key from: https://www.football-data.org/client/register
# Free tier: 10 requests/minute, 100,000 requests/month
FOOTBALL_DATA_API_KEY=your_football_data_api_key_here

# ============================================
# API KEYS - OPTIONAL (Enhanced Features)
# ============================================
# API-Football (RapidAPI) - Additional match data and statistics
# Get from: https://rapidapi.com/api-sports/api/api-football/
API_FOOTBALL_KEY=your_api_football_key_here
API_FOOTBALL_HOST=api-football-v1.p.rapidapi.com

# OpenWeather API - Weather data for match predictions
# Get from: https://openweathermap.org/api
WEATHER_API_KEY=your_weather_api_key_here
OPENWEATHER_API_KEY=your_openweather_api_key_here

# SportsDataIO - Additional sports statistics
# Get from: https://sportsdata.io/
SPORTSDATAIO_KEY=your_sportsdataio_key_here

# Understat API - Expected goals (xG) statistics
# Get from: https://understat.com/
UNDERSTAT_API_KEY=your_understat_api_key_here

# ============================================
# AI/ML API KEYS - OPTIONAL
# ============================================
# Google Gemini API - AI-powered analysis and insights
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# OpenRouter API - Alternative AI analysis
# Get from: https://openrouter.ai/keys
OPENROUTER_API_KEY=your_openrouter_api_key_here

# OpenAI API - GPT-based analysis
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Secret key for session management (MUST be changed in production)
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your_secret_key_here_CHANGE_THIS_IN_PRODUCTION

# API rate limiting
API_RATE_LIMIT=100
API_RATE_LIMIT_PERIOD=60

# Session configuration
SESSION_TIMEOUT=3600
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true

# Security headers
ALLOWED_HOSTS=your-domain.com,www.your-domain.com
CORS_ORIGINS=https://your-domain.com

# ============================================
# CACHING & REDIS
# ============================================
# Cache backend: redis, memory, file
CACHE_BACKEND=memory
ENABLE_CACHING=true
CACHE_EXPIRY_SECONDS=3600
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# Redis configuration (if using redis backend)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your_redis_password_here

# Data freshness thresholds (in hours)
DATA_FRESHNESS_THRESHOLD=24
STALE_DATA_WARNING_THRESHOLD=48

# ============================================
# STREAMLIT CONFIGURATION
# ============================================
# Server settings
PORT=8501
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=localhost
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_BROWSER_GATHER_USAGE_STATS=false

# Performance settings
STREAMLIT_SERVER_MAX_UPLOAD_SIZE=50
STREAMLIT_SERVER_ENABLE_CORS=true
STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION=false
STREAMLIT_SERVER_RUN_ON_SAVE=false

# Theme configuration
STREAMLIT_THEME_PRIMARY_COLOR=#1f77b4
STREAMLIT_THEME_BACKGROUND_COLOR=#ffffff
STREAMLIT_THEME_SECONDARY_BACKGROUND_COLOR=#f0f2f6

# ============================================
# PREDICTION ENGINE CONFIGURATION
# ============================================
# Model settings
MODEL_TYPE=ensemble
MODEL_VERSION=v4.0
USE_CALIBRATION=true

# Feature engineering
ENABLE_ADVANCED_FEATURES=true
ENABLE_XG_FEATURES=true
ENABLE_WEATHER_FEATURES=true

# Prediction thresholds
MIN_CONFIDENCE_THRESHOLD=0.60
HIGH_CONFIDENCE_THRESHOLD=0.75

# Cross-league intelligence
ENABLE_CROSS_LEAGUE_HANDLER=true
CROSS_LEAGUE_CONFIDENCE_ADJUSTMENT=0.85

# ============================================
# DATA INTEGRATION SETTINGS
# ============================================
# Real-time data processing
ENABLE_LIVE_DATA=true
LIVE_DATA_UPDATE_INTERVAL=30
WEBSOCKET_ENABLED=true

# Async data integration
ASYNC_DATA_INTEGRATION=true
ASYNC_BATCH_SIZE=10
ASYNC_TIMEOUT=30

# Data source priorities (comma-separated)
DATA_SOURCE_PRIORITY=football_data,api_football,understat

# ============================================
# PERFORMANCE & WORKERS
# ============================================
MAX_WORKERS=4
BATCH_SIZE=100
REQUEST_TIMEOUT=30

# ============================================
# MONITORING & LOGGING
# ============================================
# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file configuration
LOG_FILE=logs/goaldiggers.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# Performance monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_LOG_INTERVAL=300

# Metrics collection
ENABLE_METRICS=true
ENABLE_METRICS_COLLECTION=true
METRICS_EXPORT_INTERVAL=60

# Prediction metrics logging
ENABLE_PREDICTION_METRICS=true
PREDICTION_METRICS_FILE=logs/prediction_metrics.jsonl

# External monitoring
SENTRY_DSN=your_sentry_dsn_here

# Prometheus metrics export
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_METRICS_PORT=8501
PROMETHEUS_METRICS_PATH=/metrics

# ============================================
# DATA QUALITY & VALIDATION
# ============================================
# Data validation thresholds
REAL_DATA_MIN_QUALITY_SCORE=0.5
REAL_DATA_CRITICAL_QUALITY_SCORE=0.3

# Data freshness settings (in days/hours)
REAL_DATA_LOOKBACK_DAYS=3
REAL_DATA_MAX_AGE_DAYS=2
REAL_DATA_MAX_FIXTURE_AGE_HOURS=24
REAL_DATA_MAX_FORM_AGE_DAYS=7
REAL_DATA_MAX_STANDINGS_AGE_DAYS=3

# Cache freshness (in seconds)
PROGRESSIVE_CACHE_MAX_AGE=3600
FRESH_FIXTURE_MAX_AGE=3600

# Validation behavior
BLOCK_LOW_QUALITY_PREDICTIONS=true
VALIDATION_STRICT_MODE=false

# Alert thresholds
ALERT_ON_LOW_QUALITY=true
ALERT_QUALITY_THRESHOLD=0.5
ALERT_FAILURE_RATE_THRESHOLD=0.30
ALERT_FEATURE_COVERAGE_THRESHOLD=0.50

# ============================================
# FEATURE FLAGS
# ============================================
# Advanced features
ENABLE_VALUE_BETTING=true
ENABLE_PERSONALIZATION=true
ENABLE_LIVE_STREAMING=true
ENABLE_PERFORMANCE_PANEL=true

# Experimental features (use with caution)
ENABLE_EXPERIMENTAL_MODELS=false
ENABLE_BETA_FEATURES=false

# UI/UX features
ENABLE_DARK_MODE=true
ENABLE_GLASSMORPHISM=true
ENABLE_ANIMATIONS=true

# ============================================
# DEPLOYMENT CONFIGURATION
# ============================================
# Deployment platform: local, render, heroku, aws, azure
DEPLOYMENT_PLATFORM=local

# Health check endpoint
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Graceful shutdown timeout (seconds)
GRACEFUL_SHUTDOWN_TIMEOUT=30

# Render.com specific (for cloud deployment)
RENDER_EXTERNAL_URL=https://your-app-name.onrender.com

# ============================================
# BACKUP & RECOVERY
# ============================================
# Automatic backup configuration
ENABLE_AUTO_BACKUP=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7
BACKUP_PATH=./backups

# ============================================
# LOCAL DEVELOPMENT OVERRIDES
# ============================================
# Uncomment for local SQLite-only development:
# DATABASE_URL=sqlite:///data/football.db
# DATABASE_SQLITE_FALLBACK=false
# DEBUG_MODE=true
# LOG_LEVEL=DEBUG

# ============================================================================
# NOTES & BEST PRACTICES
# ============================================================================
#
# REQUIRED KEYS:
# - FOOTBALL_DATA_API_KEY: Essential for match data retrieval
# - SECRET_KEY: Must be changed from default in production
# - DATABASE_URL or SQLITE_DATABASE_PATH: At least one database required
#
# RECOMMENDED KEYS (for full functionality):
# - API_FOOTBALL_KEY: Enhanced match statistics and player data
# - OPENWEATHER_API_KEY: Weather-adjusted predictions
# - GEMINI_API_KEY or OPENROUTER_API_KEY: AI-powered insights
#
# SECURITY REMINDERS:
# 1. Never commit .env file to version control
# 2. Use strong, unique SECRET_KEY in production
# 3. Rotate API keys periodically
# 4. Limit API key permissions to minimum required
# 5. Use environment-specific .env files (.env.production, .env.staging)
#
# PERFORMANCE TIPS:
# 1. Use PostgreSQL for production (better than SQLite)
# 2. Enable Redis caching for high-traffic deployments
# 3. Adjust CACHE_TTL based on data update frequency
# 4. Monitor API rate limits and adjust request frequency
# 5. Enable performance monitoring to track bottlenecks
#
# SUPPORT:
# - Documentation: docs/
# - API Reference: API_REFERENCE.md
# - Deployment Guide: docs/current/DEPLOYMENT_GUIDE.md
# - Launch Guide: ADVANCED_INTEGRATION_COMPLETE.md
#
# ============================================================================
# END OF CONFIGURATION
# ============================================================================

